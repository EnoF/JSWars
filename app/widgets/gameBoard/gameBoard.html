<!--
  ~ Copyright (c) 2014.
  ~
  ~ @author Andy Tang
  -->
<section>
    <div class="game-board"
         data-ng-class="{ 'move-mode': isInMoveMode(), 'attack-mode': isInAttackMode()}">
        <h2>{{ getCurrentPlayer().getName() }}</h2>

        <div class="view-port">
            <div class="camera">
                <div class="view-content">
                    <div class="column"
                         data-ng-repeat="column in map">
                        <div data-ng-repeat="square in column">
                            <div data-ng-class="{
                        'move-allowed': isInMoveRange($parent.$index, $index),
                        'attack-allowed': isInAttackRange($parent.$index, $index)
                     }"
                                 data-game-square="square"
                                 data-ng-click="action($parent.$index, $index)"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="end-turn"
         data-ng-show="isEndingTurn()"
         data-ng-class="{ 'hide-end-turn': isEndingTurn() }">End turn
    </div>
    <div class="winner"
         data-ng-show="hasGameEnded()">WINNER: {{ getWinner().getName() }}!
    </div>
    <div class="toast-background"
         data-ng-show="isEndingTurn() || hasGameEnded()"></div>
    <div class="button"
         data-ng-click="endTurn()">End Turn
    </div>
</section>